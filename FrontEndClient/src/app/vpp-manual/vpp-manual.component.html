<div class="card mt-4">
  <h4 class="card-header">Cadastrar VPP</h4>
  <div class="card-body col-md-12">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="dtSolicitacao">Data solicitação</label>
        <input type="date" formControlName="dtSolicitacao" class="form-control col-md-6"
          [ngClass]="{ 'is-invalid': submitted && f.dtSolicitacao.errors }" />
        <div *ngIf="submitted && f.dtSolicitacao.errors" class="invalid-feedback">
          <div *ngIf="f.dtSolicitacao.errors.required">A data de solicitação é obrigatória</div>
        </div>
      </div>
      <div class="form-group">
        <label for="nmBeneficiario">Nome do beneficiário</label>
        <input type="text" formControlName="nmBeneficiario" class="form-control col-md-6"
          [ngClass]="{ 'is-invalid': submitted && f.nmBeneficiario.errors }" />
        <div *ngIf="submitted && f.nmBeneficiario.errors" class="invalid-feedback">
          <div *ngIf="f.nmBeneficiario.errors.required">Nome do beneficário é obrigatório</div>
        </div>
      </div>
      <div class="form-group">
        <label for="nmEmpresa">Empresa</label>
        <select class="form-control col-md-6" formControlName="nmEmpresa"
          [ngClass]="{ 'is-invalid': submitted && f.nmEmpresa.errors }">
          <option value="0" disabled>Atribuir</option>
          <option *ngFor="let empresa of Empresas" [value]="empresa.id">
            {{empresa.razaoSocial}}/{{empresa.nomeFantasia}}
          </option>
        </select>
        <div *ngIf="submitted && f.nmEmpresa.errors" class="invalid-feedback">
          <div *ngIf="f.nmEmpresa.errors.required">Empresa é obrigatório</div>
        </div>
      </div>

      <div class="form-group">
        <label for="nmOperadora">Operadora</label>
        <select class="form-control col-md-6" formControlName="nmOperadora"
          [ngClass]="{ 'is-invalid': submitted && f.nmOperadora.errors }">
          <option value="0" disabled>Atribuir</option>
          <option *ngFor="let operadora of Operadoras" [value]="operadora.id">
            {{operadora.nome}}
          </option>
        </select>
        <div *ngIf="submitted && f.nmOperadora.errors" class="invalid-feedback">
          <div *ngIf="f.nmOperadora.errors.required">Operadora é obrigatório</div>
        </div>
      </div>

      <div class="form-group">
        <label for="nmTipoProcedimento">Tipo de procedimento</label>
        <input type="text" formControlName="nmTipoProcedimento" class="form-control col-md-6"
          [ngClass]="{ 'is-invalid': submitted && f.nmTipoProcedimento.errors }" />
        <div *ngIf="submitted && f.nmTipoProcedimento.errors" class="invalid-feedback">
          <div *ngIf="f.nmTipoProcedimento.errors.required">Tipo de procedimento é obrigatório</div>
        </div>
      </div>
      <div class="form-group">
        <label for="nmProcedimento">Procedimento</label>
        <input type="text" formControlName="nmProcedimento" class="form-control col-md-6"
          [ngClass]="{ 'is-invalid': submitted && f.nmProcedimento.errors }" />
        <div *ngIf="submitted && f.nmProcedimento.errors" class="invalid-feedback">
          <div *ngIf="f.nmProcedimento.errors.required">Procedimento é obrigatório</div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="nmIdentificacao">Identificação</label>
        <input type="text" formControlName="nmIdentificacao" class="form-control col-md-6"
          [ngClass]="{ 'is-invalid': submitted && f.nmIdentificacao.errors }" />
        <div *ngIf="submitted && f.nmIdentificacao.errors" class="invalid-feedback">
          <div *ngIf="f.nmIdentificacao.errors.required">Identificação é obrigatório</div>
        </div>
      </div>     

      <div class="form-group">
        <label for="nmUsuario">Atribuição</label>
        <select class="form-control col-md-3" formControlName="nmUsuario"
          [ngClass]="{ 'is-invalid': submitted && f.nmUsuario.errors }">
          <option value="0" disabled>Atribuir</option>
          <option *ngFor="let user of Users" [value]="user.id">
            {{user.firstName}} {{user.lastName}}
          </option>
        </select>
        <div *ngIf="submitted && f.nmUsuario.errors" class="invalid-feedback">
          <div *ngIf="f.nmUsuario.errors.required">Razão Social é obrigatório</div>
        </div>

        <label for="nmStatus">Classificação</label>
        <select class="form-control col-md-3" formControlName="nmStatus"
          [ngClass]="{ 'is-invalid': submitted && f.nmStatus.errors }" (change)="changeStatus($event)">
          <option value="0" disabled>Atribuir</option>
          <option *ngFor="let item of Status" [value]="item.id">
            {{item.nome}}
          </option>
        </select>

        <div *ngIf="StatusUnico.finalizado == false">
          <label for="DiasRetorno">Retorno</label>
          <input type="date" formControlName="DiasRetorno" class="form-control col-md-2" /> 
        </div>
     


      <div *ngIf="submitted && f.nmStatus.errors" class="invalid-feedback">
        <div *ngIf="f.nmStatus.errors.required">Razão Social é obrigatório</div>
      </div>
  </div>

  <!-- <select class="custom-select" (change)="changeStatus($event, template_cadastro, element.id)"
          [value]="element.statusNavigation.length == 0 ? 0 : element.statusNavigation[element.statusNavigation.length - 1].statusDetalheId">
          <option value="0" disabled>Classificar</option>
          <option *ngFor="let detalhe of StatusDetalhe" [value]="detalhe.id">
            {{detalhe.nome}}</option>
        </select> -->

  <div class="form-check">
    <input type="checkbox" id="saving" name="saving" class="form-check-input" formControlName="saving">
    <label for="minhasVpps" class="form-check-label">Houve Saving?</label>
  </div>

  <button class="btn btn-primary col-md-2">
    Cadastrar
  </button>
  </form>
</div>
</div>